<!doctype html><html lang=en-us><head><title>Ivan Kulagin - Freelance Backend Developer</title><meta charset=utf-8><meta content="IE=edge,chrome=1" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content="yes" name=mobile-web-app-capable><meta content name=description><meta content="Ivan Kulagin" name=author><meta name=generator content="Hugo 0.96.0"><link href=https://storage.googleapis.com/code.getmdl.io/1.1.1/material.deep_orange-red.min.css rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel=stylesheet><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet><link rel=stylesheet href=/css/main.min.78a8ed08f383209648bc99c37c28729d1e83f6fa86e4b01992faff26a1fab26a.css><script src=https://storage.googleapis.com/code.getmdl.io/1.1.1/material.min.js></script>
<script src=https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js integrity="sha512-wT7uPE7tOP6w4o28u1DN775jYjHQApdBnib5Pho4RB0Pgd9y7eSkAV1BTqQydupYDB9GBhTcQQzyNMPMV3cAew==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=/main.min.5466814f3b45ccc0636b679b2d9481f84bad40d16ec0f4c6ad4fcd1c974cf344.js></script></head><body><div class="mdl-layout mdl-js-layout mdl-layout--fixed-header"><header class=mdl-layout__header><div class=mdl-layout__header-row><div class=mdl-layout-title>Ivan Kulagin</div><div class=mdl-layout-spacer></div><nav class="mdl-navigation ik-top-navigation--tablet-screen-and-larger"><a class=mdl-navigation__link href=/works>Work</a>
<a class=mdl-navigation__link href="https://github.com/qd3v?tab=stars" target=_blank>GitHub</a></nav></div></header><div class=mdl-layout__drawer><span class=mdl-layout-title>Menu</span><nav class=mdl-navigation><a class=mdl-navigation__link href=/><i class=material-icons>home</i> Home</a>
<a class=mdl-navigation__link href=/works><i class=material-icons>palette</i> Work</a><hr><a class=mdl-navigation__link href="https://github.com/qd3v?tab=stars" target=_blank>GitHub</a></nav></div><main class=mdl-layout__content><div class="ik-grid-content mdl-grid"><div class="mdl-cell mdl-cell--12-col"><h2 class="mdl-typography--text-center mdl-typography--font-thin mdl-typography--text-uppercase">My Ruby Portfolio</h2></div><div class="mdl-cell mdl-cell--12-col"><a id=spinfluenceit></a><h3>spINFLUENCEit</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/spinfluenceit_screen_1.jpg target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/spinfluenceit_screen_1.jpg></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/spinfluenceit_screen_2.jpg target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/spinfluenceit_screen_2.jpg></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/spinfluenceit_screen_3.jpg target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/spinfluenceit_screen_3.jpg></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/spinfluenceit_screen_4.jpg target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/spinfluenceit_screen_4.jpg></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>Long-term API project, where I was a head developer of backend side of two applications:</p><ul><li>one DJ&rsquo;s desktop app which DJ use to notify the crowd the track he&rsquo;s playing, respond to music requests, upload his music collection metadata people able to search in, etc.</li><li>and the second app is a mobile app for party guests, where people can order, vote, like the currently playing track, send tips to DJ, search the DJ&rsquo;s music collection etc.</li></ul><p>Initially the app were built on Ruby on Rails, but soon we decided to replace it with <strong>Grape</strong>, just because we were not need Rails beast for API, that migration increased performance a lot. As a free bonus we&rsquo;ve got a <strong>swagger docs</strong> for API for free. <strong>Hanami</strong> (formerly Lotusrb)wasn&rsquo;t mature enough yet, but today I&rsquo;d definitely use it instead (or even clean Rack app), additionally replacing ActiveRecord which I consider as an antipattern for everything but MVP.</p><p>Interesting design decisions/stack used:</p><ul><li><strong>Firebase for authentication</strong></li><li><strong>Google Cloud Messaging</strong> to interact with guest&rsquo;s mobile application (broadcasts, direct messages)</li><li>heavy use of bz2 streams to transfer huge DJ&rsquo;s music collection metadata</li><li>stream compressed metadata in <strong>NDJSON</strong> format</li><li>PG per-DJ partitioning (at those times there wasn&rsquo;t native PG solution for that out of the box)</li><li>multiple external musical APIs integration (cover images look up, search song my fingerprint etc). At some point each background track normalization process called 5 different external APIs</li><li>of course most core features where covered by tests (unit/feature al kind of, depending on what was the goal of tests)</li><li>custom <strong>Firebase authentication</strong> <code>warden</code> strategies implemented for both roles: DJ and Guest</li><li>few PG triggers implemented on <strong>PL/pgSQL</strong> to ease work with millions of music tracks data records</li><li><strong>Braintree</strong> payments integration</li><li>using <strong><a href=https://github.com/que-rb/que>Que</a></strong> for background tasks (client want no additional elements like Redis in stack)</li><li>simple <strong>S3 integration</strong></li></ul><p>This was a very interesting experience, where I had to use all my knowledge about performance optimization and big project (with lots of data) leading development</p><a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" href=https://spinfluenceit.com/ target=_blank>Visit</a></div><div class="mdl-cell mdl-cell--12-col"><a id=instamotor></a><h3>Instamotor Inc.</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/instamotor_home.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/instamotor_home.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/instamotor_twilio_relay.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/instamotor_twilio_relay.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/instamotor_twilio_uml.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/instamotor_twilio_uml.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/instamotor_working.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/instamotor_working.png></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>The project consists of two parts: main grape-based API backend and web crawler, gathering vehicle sell postings from the web.
API includes tricky communication layer based on <a href=https://www.twilio.com>Twilio</a>.
My noticeable goals were:</p><ul><li>migrate both apps from Resque to Sidekiq (jobs rework, queues tuning)</li><li>add Sidekiq monitoring and logging extensions</li><li>refactor/add MMS handling for Twilio</li><li>leasing and freeing Twilio phone numbers</li><li>forwarding calls/<a href=https://en.wikipedia.org/wiki/Steganography>steganography</a> (shown on screenshot)</li><li>Amazon EC2 instances managing and tuning</li><li>rewrite and make testable internal Slack messenger (shown on screenshot)</li><li>integration with NewRelic, Rollbar, Papertrail and Dead Manâ€™s Snitch 3rd-party services</li><li>plenty of small refactorings (code had low quality)</li></ul><p>And of course everything was tested with Rspec.</p><p><strong>NOTE</strong>: my goals were related to backend only</p><a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" href=https://instamotor.com/ target=_blank>Visit</a></div><div class="mdl-cell mdl-cell--12-col"><a id=bestfit></a><h3>Apple pass manager</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/bestfit_home.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/bestfit_home.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/bestfit_primary.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/bestfit_primary.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/bestfit_versions.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/bestfit_versions.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/bestfit_versions_schedule.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/bestfit_versions_schedule.png></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>AngularJs + Ruby on Rails project with integration with Apple Passbook API and Apple push service.
This project was done solely by myself for BestFit mobile company.</p><p>Features implemented:</p><ul><li>WYSIWYG pass designer with near pixel-perfect result with support of all five pass types</li><li>several versions of the same pass supported</li><li>ability to schedule publishing any version to registered devices using APB API (+push service)</li><li>generating and signing passes</li><li>simple and robust hand-crafted image uploading service (instead of Carrierwave or Paperclip). Creating it allowed decoupling image processing and make the whole pass creation process straight and neat.</li><li>a whole bunch of nice other features</li></ul><p>The code was heavily tested, and it was relatively easy, thanks to nice gems like
<a href=https://github.com/adomokos/light-service><code>light-service</code></a> (I love Command pattern :) and
<a href=https://github.com/solnic/virtus><code>virtus</code></a></p></div><div class="mdl-cell mdl-cell--12-col"><a id=higgins></a><h3>Higgins MD 420</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/higgins_home.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/higgins_home.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/higgins_step1.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/higgins_step1.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/higgins_step2.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/higgins_step2.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/higgins_aa_and_pdf.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/higgins_aa_and_pdf.png></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>Heavy refactoring/cleanup/drying of legacy code and new features implementation.
There was no unit tests at all, and became more than 500 after about three months as I&rsquo;ve joined project.</p><p>Technologies used:</p><ul><li>common gems toolbox (about one hundred gems; rspec, cucumber, poltergeist, rails 3.2, capistrano, mysql etc.)</li><li><strong><code>devise</code></strong> with heavy customization to satisfy business needs</li><li><strong><code>active_merchant</code></strong> billing (with authorize.net binding/testing)</li><li><strong><code>activeadmin</code></strong> with decorated models</li><li><strong><code>wicked_pdf</code></strong> for health history pdf generation</li><li><strong><code>cocoon</code></strong> for nested forms (yep, it was long time ago :)</li><li><strong><code>jenkins</code></strong> CI with github PR triggers</li><li><strong><code>mercury</code></strong> editor</li><li><strong><code>errbit</code></strong></li><li><strong><code>redmine</code></strong></li></ul><p>Note on frontend: when I joined this project, frontend (including JS) was almost completed, I&rsquo;ve done only refactoring of CSS (SCSS+Compass) and JS (CS).</p><a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" href=https://www.higginsmd420.com/ target=_blank>Visit</a></div><div class="mdl-cell mdl-cell--12-col"><a id=pelesend></a><h3>Pelesend corporate site</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/pelesend_home.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/pelesend_home.png></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>Almost completely rewritten backend (Ruby on Rails based) ugly source code,
added completely missed integration/unit specs, added Mercury Editor for admins,
no frontend work applied (client is waiting for new design), removed or taken from gems 90% of code (JS mostly).</p><p>Results of refactoring:</p><pre tabindex=0><code>3,626,024 bytes -&gt; 322,949 bytes
536 files changed
5562 insertions(+)
98880 deletions(-)
</code></pre><p>Less code - less trouble :)</p><a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" href=http://www.pelesend.com/ target=_blank>Visit</a></div><div class="mdl-cell mdl-cell--12-col"><a id=abc-logistik></a><h3>ABC Logistik</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/abc-logistik_home.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/abc-logistik_home.png></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>Regular complexity site for Russian logistic company, made solely by myself from the ground.
Some features (menu items) client decided to implement in the future.</p><p>Tools used:</p><ul><li>Ruby on Rails 3.2</li><li>MySQL (not my decision)</li><li>simple_form</li><li>strong_parameters (while using Ruby on Rails 3.2)</li><li>rubytree</li><li>active_admin</li><li>compass-rails</li><li>bootstrap-sass</li><li>rspec</li><li>capybara</li><li>factory_girl_rails</li><li>livereload</li><li>capistrano</li><li>passenger</li></ul></div></div><footer class=mdl-mini-footer><div class=mdl-mini-footer__left-section><div class=mdl-logo>Ivan Kulagin</div><ul class=mdl-mini-footer__link-list><li><a href=/>Home</a></li><li><a href=/works>Work</a></li><li><a href="https://github.com/qd3v?tab=stars" target=_blank>GitHub</a></li></ul></div></footer><div class="ik-grid-content mdl-grid"><div class="mdl-cell mdl-cell--12-col"><p class="mdl-typography--caption mdl-typography--text-center">This site was created using <a href=http://gohugo.io/ target=_blank>Hugo</a>,
<a href=http://www.getmdl.io/ target=_blank>Google Material Design Lite</a>,
assets built by <a href=http://brunch.io/ target=_blank>Brunch</a></p></div></div><script type=text/javascript>(function(e,o,i,a,t,n,s){e[t]=e[t]||function(){(e[t].a=e[t].a||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),ym(62723488,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img src=https://mc.yandex.ru/watch/62723488 style=position:absolute;left:-9999px alt></div></noscript></main></div></body></html>