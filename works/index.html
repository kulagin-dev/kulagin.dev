<!doctype html><html lang=en-us><head><title>Ivan Kulagin - Freelance Backend Developer</title><meta charset=utf-8><meta content="IE=edge,chrome=1" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content="yes" name=mobile-web-app-capable><meta content name=description><meta content="Ivan Kulagin" name=author><meta name=generator content="Hugo 0.96.0"><link href=https://storage.googleapis.com/code.getmdl.io/1.3.0/material.deep_orange-red.min.css rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel=stylesheet><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet><link rel=stylesheet href=/css/main.min.78a8ed08f383209648bc99c37c28729d1e83f6fa86e4b01992faff26a1fab26a.css><script src=https://storage.googleapis.com/code.getmdl.io/1.3.0/material.min.js></script>
<script src=https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js integrity="sha512-wT7uPE7tOP6w4o28u1DN775jYjHQApdBnib5Pho4RB0Pgd9y7eSkAV1BTqQydupYDB9GBhTcQQzyNMPMV3cAew==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=/main.min.5466814f3b45ccc0636b679b2d9481f84bad40d16ec0f4c6ad4fcd1c974cf344.js></script></head><body><div class="mdl-layout mdl-js-layout mdl-layout--fixed-header"><header class=mdl-layout__header><div class=mdl-layout__header-row><div class=mdl-layout-title>Ivan Kulagin</div><div class=mdl-layout-spacer></div><nav class="mdl-navigation ik-top-navigation--tablet-screen-and-larger"><a class=mdl-navigation__link href=/works>Work</a>
<a class=mdl-navigation__link href="https://github.com/qd3v?tab=stars" target=_blank>GitHub</a></nav></div></header><div class=mdl-layout__drawer><span class=mdl-layout-title>Menu</span><nav class=mdl-navigation><a class=mdl-navigation__link href=/><i class=material-icons>home</i> Home</a>
<a class=mdl-navigation__link href=/works><i class=material-icons>palette</i> Work</a><hr><a class=mdl-navigation__link href="https://github.com/qd3v?tab=stars" target=_blank>GitHub</a></nav></div><main class=mdl-layout__content><div class="ik-grid-content mdl-grid"><div class="mdl-cell mdl-cell--12-col"><h2 class="mdl-typography--text-center mdl-typography--font-thin mdl-typography--text-uppercase">My Ruby Portfolio</h2></div><div class="mdl-cell mdl-cell--12-col"><a id=avr></a><h3>AVR Chiptuning</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/avr_signin.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/avr_signin.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/avr_upload.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/avr_upload.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/avr_tuning_options.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/avr_tuning_options.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/avr_credits.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/avr_credits.png></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>One of my favourite projects! Sadly, the client disappeared right in the middle of the service&rsquo;s frontend implementation, so the screenshots represent the work in progress.</p><p>But anyway here is the story.</p><p>David needed the car engines database to let the user select he want to tune. After research he found and bought the required DB. But because that DB was just a scraped raw data, there were a lot of corrupted data and of course it wasn&rsquo;t logically structured. So the primary goal was to model the data and create a complex CSV data normalizer</p><p>After that done, the next goal was to create an API. Here I decided to use my favourites: <code>Rack</code> wrapped in tiny <code>hanami-api</code>, <code>warden</code> for token authentication and <code>dry-rb</code> gems collection. That way we&rsquo;ve got a beautiful and testable code like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>module</span> Avr
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>module</span> Api
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>module</span> Endpoints
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>module</span> Employers
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SignIn</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>include</span> <span style=color:#66d9ef>Dry</span><span style=color:#f92672>::</span><span style=color:#66d9ef>Monads</span><span style=color:#f92672>[</span><span style=color:#e6db74>:result</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>include</span> <span style=color:#66d9ef>Avr</span><span style=color:#f92672>::</span><span style=color:#66d9ef>Api</span><span style=color:#f92672>::</span><span style=color:#66d9ef>Endpoints</span><span style=color:#f92672>::</span><span style=color:#66d9ef>Common</span><span style=color:#f92672>::</span><span style=color:#66d9ef>Public</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>include</span> <span style=color:#66d9ef>Import</span><span style=color:#f92672>[</span><span style=color:#e6db74>&#39;avr.logging.logger&#39;</span>,
</span></span><span style=display:flex><span>                         <span style=color:#e6db74>action</span>:     <span style=color:#e6db74>&#39;avr.actions.employers.sign_in&#39;</span>,
</span></span><span style=display:flex><span>                         <span style=color:#e6db74>serializer</span>: <span style=color:#e6db74>&#39;avr.api.serializers.employee&#39;</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#75715e># Params: Hanami::Params</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>call</span>(params)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>case</span> action<span style=color:#f92672>.</span>call(params<span style=color:#f92672>.</span>to_h)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>Success</span>(employee)
</span></span><span style=display:flex><span>              logger<span style=color:#f92672>.</span>info(<span style=color:#e6db74>&#34;Employee authenticated: </span><span style=color:#e6db74>#{</span>employee<span style=color:#f92672>.</span>inspect<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>              json_body(serializer<span style=color:#f92672>.</span>render(employee, <span style=color:#e6db74>view</span>: <span style=color:#e6db74>:sign_in</span>))
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>Failure</span>(<span style=color:#66d9ef>Dry</span><span style=color:#f92672>::</span><span style=color:#66d9ef>Validation</span><span style=color:#f92672>::</span><span style=color:#66d9ef>Result</span> <span style=color:#f92672>=&gt;</span> result) <span style=color:#75715e># match against validation: true</span>
</span></span><span style=display:flex><span>              api_validation_error(<span style=color:#e6db74>message</span>: <span style=color:#e6db74>&#39;Validation error&#39;</span>, <span style=color:#e6db74>errors</span>: result<span style=color:#f92672>.</span>errors<span style=color:#f92672>.</span>to_h)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>Failure</span>(result)
</span></span><span style=display:flex><span>              api_error(<span style=color:#e6db74>message</span>: result, <span style=color:#e6db74>error_type</span>: <span style=color:#e6db74>:sign_in</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ruby data-lang=ruby><span style=display:flex><span><span style=color:#66d9ef>module</span> Avr
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>module</span> Actions
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>module</span> Employers
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SignIn</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>include</span> <span style=color:#66d9ef>Dry</span><span style=color:#f92672>::</span><span style=color:#66d9ef>Monads</span><span style=color:#f92672>[</span><span style=color:#e6db74>:result</span>, <span style=color:#e6db74>:do</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>include</span> <span style=color:#66d9ef>Import</span><span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>                  <span style=color:#e6db74>&#39;avr.logging.logger&#39;</span>, <span style=color:#e6db74>&#39;avr.utils.api_tokens_generator&#39;</span>,
</span></span><span style=display:flex><span>                  <span style=color:#e6db74>employers</span>:  <span style=color:#e6db74>&#39;avr.repos.employers&#39;</span>,
</span></span><span style=display:flex><span>                  <span style=color:#e6db74>api_tokens</span>: <span style=color:#e6db74>&#39;avr.repos.employee_api_tokens&#39;</span>,
</span></span><span style=display:flex><span>                  <span style=color:#e6db74>contract</span>:   <span style=color:#e6db74>&#39;avr.api.contracts.employers.sign_in&#39;</span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>call</span>(params)
</span></span><span style=display:flex><span>          values   <span style=color:#f92672>=</span> <span style=color:#66d9ef>yield</span> validate(params)
</span></span><span style=display:flex><span>          employee <span style=color:#f92672>=</span> <span style=color:#66d9ef>yield</span> find_employee(values<span style=color:#f92672>[</span><span style=color:#e6db74>:email</span><span style=color:#f92672>]</span>)
</span></span><span style=display:flex><span>          employee <span style=color:#f92672>=</span> <span style=color:#66d9ef>yield</span> authenticate(employee, values<span style=color:#f92672>[</span><span style=color:#e6db74>:password</span><span style=color:#f92672>]</span>)
</span></span><span style=display:flex><span>          employee <span style=color:#f92672>=</span> <span style=color:#66d9ef>yield</span> generate_new_access_token(employee)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>Success</span>(employee)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># contracts return the result objects that keep both input values and errors.</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>validate</span>(params)
</span></span><span style=display:flex><span>          contract<span style=color:#f92672>.</span>call(params)<span style=color:#f92672>.</span>to_monad
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>find_employee</span>(email)
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>if</span> (employee <span style=color:#f92672>=</span> employers<span style=color:#f92672>.</span>find_by_email(email))
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>Success</span>(employee)
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>Failure</span>(<span style=color:#e6db74>&#34;Can&#39;t find Employee&#34;</span>)
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>authenticate</span>(employee, password)
</span></span><span style=display:flex><span>          logger<span style=color:#f92672>.</span>debug(<span style=color:#e6db74>&#34;Authenticating&#34;</span>)
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>if</span> <span style=color:#66d9ef>BCrypt</span><span style=color:#f92672>::</span><span style=color:#66d9ef>Password</span><span style=color:#f92672>.</span>new(employee<span style=color:#f92672>.</span>password_digest) <span style=color:#f92672>==</span> password
</span></span><span style=display:flex><span>            logger<span style=color:#f92672>.</span>debug(<span style=color:#e6db74>&#34;Password match!&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>Success</span>(employee)
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            logger<span style=color:#f92672>.</span>debug(<span style=color:#e6db74>&#34;Password mismatch&#34;</span>)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>Failure</span>(<span style=color:#e6db74>&#34;Password mismatch&#34;</span>)
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>generate_new_access_token</span>(employee)
</span></span><span style=display:flex><span>          logger<span style=color:#f92672>.</span>debug(<span style=color:#e6db74>&#34;Generating new access/reset token pair for employee: </span><span style=color:#e6db74>#{</span>employee<span style=color:#f92672>.</span>email<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          tokens_data <span style=color:#f92672>=</span> api_tokens_generator<span style=color:#f92672>.</span>generate
</span></span><span style=display:flex><span>          logger<span style=color:#f92672>.</span>debug(<span style=color:#e6db74>&#34;Creating new access/reset token pair for employee: </span><span style=color:#e6db74>#{</span>employee<span style=color:#f92672>.</span>email<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>          token <span style=color:#f92672>=</span> api_tokens<span style=color:#f92672>.</span>create(<span style=color:#e6db74>employee_id</span>: employee<span style=color:#f92672>.</span>id, <span style=color:#f92672>**</span>tokens_data)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>Failure</span>(<span style=color:#e6db74>&#34;Can&#39;t create access tokens&#34;</span>) <span style=color:#66d9ef>unless</span> token
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          employee<span style=color:#f92672>.</span>current_api_token <span style=color:#f92672>=</span> token
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>Success</span>(employee)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>
</span></span></code></pre></div><p>Next step was to create frontend part. And that was the first time I choose Elm as a frontend language, having some awesome experience with it in my learning sandboxes. Everything went smooth until in the middle of frontend work my client stopped responding :(</p><p>Anyway, I&rsquo;d love to use Elm again someday, that was a joy to work with it!</p><p>Actually this project had my <strong>dream stack</strong>: parsers/normalizers, data modelling, APIs, lightweight stack and Elm for frontend. I&rsquo;d only add TailwindCSS in that list for completeness.</p><a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" href=https://avr-platform.herokuapp.com/ target=_blank>Visit</a></div><div class="mdl-cell mdl-cell--12-col"><a id=spinfluenceit></a><h3>spINFLUENCEit</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/spinfluenceit_screen_1.jpg target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/spinfluenceit_screen_1.jpg></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/spinfluenceit_screen_2.jpg target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/spinfluenceit_screen_2.jpg></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/spinfluenceit_screen_3.jpg target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/spinfluenceit_screen_3.jpg></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/spinfluenceit_screen_4.jpg target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/spinfluenceit_screen_4.jpg></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>Long-term API project, where I was a head developer of backend side of two applications:</p><ul><li>one DJ&rsquo;s desktop app which DJ use to notify the crowd the track he&rsquo;s playing, respond to music requests, upload his music collection metadata people able to search in, etc.</li><li>and the second app is a mobile app for party guests, where people can order, vote, like the currently playing track, send tips to DJ, search the DJ&rsquo;s music collection etc.</li></ul><p>Initially the app were built on Ruby on Rails, but soon we decided to replace it with <strong>Grape</strong>, just because we were not need Rails beast for API, that migration increased performance a lot. As a free bonus we&rsquo;ve got a <strong>swagger docs</strong> for API for free. <strong>Hanami</strong> (formerly Lotusrb) wasn&rsquo;t mature enough yet, but today I&rsquo;d definitely use it instead (or even clean Rack app), additionally replacing ActiveRecord which I consider as an antipattern for everything but MVP.</p><p>Interesting design decisions/stack used:</p><ul><li><strong>Firebase for authentication</strong></li><li><strong>Google Cloud Messaging</strong> to interact with guest&rsquo;s mobile application (broadcasts, direct messages)</li><li>heavy use of bz2 streams to transfer huge DJ&rsquo;s music collection metadata</li><li>stream compressed metadata in <strong>NDJSON</strong> format</li><li>PG per-DJ partitioning (at those times there wasn&rsquo;t native PG solution for that out of the box)</li><li>multiple external musical APIs integration (cover images look up, search song my fingerprint etc). At some point each background track normalization process called 5 different external APIs</li><li>of course most core features where covered by tests (unit/feature al kind of, depending on what was the goal of tests)</li><li>custom <strong>Firebase authentication</strong> <code>warden</code> strategies implemented for both roles: DJ and Guest</li><li>few PG triggers implemented on <strong>PL/pgSQL</strong> to ease work with millions of music tracks data records</li><li><strong>Braintree</strong> payments integration</li><li>using <strong><a href=https://github.com/que-rb/que>Que</a></strong> for background tasks (client want no additional elements like Redis in stack)</li><li>simple <strong>S3 integration</strong></li></ul><p>This was a very interesting experience, where I had to use all my knowledge about performance optimization and big project (with lots of data) leading development</p><a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" href=https://spinfluenceit.com/ target=_blank>Visit</a></div><div class="mdl-cell mdl-cell--12-col"><a id=bvm></a><h3>BlockVestMovement</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/bvm_stack.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/bvm_stack.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/bvm_terraform_packer.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/bvm_terraform_packer.png></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>Big DevOps job with a lot of complex tasks, pursuing low cost for the client.
On of the cool things I choose is to use <a href=https://www.nomadproject.io/>Nomad</a> cluster (because we didn&rsquo;t need bloated k8s here), and Nomad+Vault+Consul trio did the work perfectly.</p><ul><li>network design, stack parts selection</li><li>Terraform for setting up AWS for each environment (staging/production), including ELB, CloudFormation, CloudFront etc</li><li>custom AMI&rsquo;s used to provision machines created with <a href=https://www.packer.io/docs>Packer</a> for each role</li><li>Gitlab&rsquo;s CI used to build and push app&rsquo;s docker images to <a href=https://www.nomadproject.io/>Nomad</a>&rsquo;s cluster</li><li>two (scalable) instances of <a href=https://www.haproxy.org/>HAProxy</a> as a reverse proxy working in pair with <a href=https://www.consul.io/>Consul</a></li><li>tens of AWS smaller building block involved, TLS certs, dns, etc</li><li>lots of shell scripting and automation</li></ul><p><strong>NOTE</strong> In Apr 2022 website seems down, but I&rsquo;m not working on this project for a year now :)</p><a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" href=https://blockvest.com/ target=_blank>Visit</a></div><div class="mdl-cell mdl-cell--12-col"><a id=instamotor></a><h3>Instamotor Inc.</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/instamotor_home.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/instamotor_home.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/instamotor_twilio_relay.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/instamotor_twilio_relay.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/instamotor_twilio_uml.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/instamotor_twilio_uml.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/instamotor_working.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/instamotor_working.png></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>The project consists of two parts: main grape-based API backend and web crawler, gathering vehicle sell postings from the web.
API includes tricky communication layer based on <a href=https://www.twilio.com>Twilio</a>.
My noticeable goals were:</p><ul><li>migrate both apps from Resque to Sidekiq (jobs rework, queues tuning)</li><li>add Sidekiq monitoring and logging extensions</li><li>refactor/add MMS handling for Twilio</li><li>leasing and freeing Twilio phone numbers</li><li>forwarding calls/<a href=https://en.wikipedia.org/wiki/Steganography>steganography</a> (shown on screenshot)</li><li>Amazon EC2 instances managing and tuning</li><li>rewrite and make testable internal Slack messenger (shown on screenshot)</li><li>integration with NewRelic, Rollbar, Papertrail and Dead Man’s Snitch 3rd-party services</li><li>plenty of small refactorings (code had low quality)</li></ul><p>And of course everything was tested with Rspec.</p><p><strong>NOTE</strong>: my goals were related to backend only</p><a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" href=https://instamotor.com/ target=_blank>Visit</a></div><div class="mdl-cell mdl-cell--12-col"><a id=bestfit></a><h3>Apple pass manager</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/bestfit_home.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/bestfit_home.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/bestfit_primary.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/bestfit_primary.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/bestfit_versions.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/bestfit_versions.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/bestfit_versions_schedule.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/bestfit_versions_schedule.png></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>AngularJs + Ruby on Rails project with integration with Apple Passbook API and Apple push service.
This project was done solely by myself for BestFit mobile company.</p><p>Features implemented:</p><ul><li>WYSIWYG pass designer with near pixel-perfect result with support of all five pass types</li><li>several versions of the same pass supported</li><li>ability to schedule publishing any version to registered devices using APB API (+push service)</li><li>generating and signing passes</li><li>simple and robust hand-crafted image uploading service (instead of Carrierwave or Paperclip). Creating it allowed decoupling image processing and make the whole pass creation process straight and neat.</li><li>a whole bunch of nice other features</li></ul><p>The code was heavily tested, and it was relatively easy, thanks to nice gems like
<a href=https://github.com/adomokos/light-service><code>light-service</code></a> (I love Command pattern :) and
<a href=https://github.com/solnic/virtus><code>virtus</code></a></p></div><div class="mdl-cell mdl-cell--12-col"><a id=higgins></a><h3>Higgins MD 420</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/higgins_home.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/higgins_home.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/higgins_step1.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/higgins_step1.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/higgins_step2.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/higgins_step2.png></a></p></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/higgins_aa_and_pdf.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/higgins_aa_and_pdf.png></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>Heavy refactoring/cleanup/drying of legacy code and new features implementation.
There was no unit tests at all, and became more than 500 after about three months as I&rsquo;ve joined project.</p><p>Technologies used:</p><ul><li>common gems toolbox (about one hundred gems; rspec, cucumber, poltergeist, rails 3.2, capistrano, mysql etc.)</li><li><strong><code>devise</code></strong> with heavy customization to satisfy business needs</li><li><strong><code>active_merchant</code></strong> billing (with authorize.net binding/testing)</li><li><strong><code>activeadmin</code></strong> with decorated models</li><li><strong><code>wicked_pdf</code></strong> for health history pdf generation</li><li><strong><code>cocoon</code></strong> for nested forms (yep, it was long time ago :)</li><li><strong><code>jenkins</code></strong> CI with github PR triggers</li><li><strong><code>mercury</code></strong> editor</li><li><strong><code>errbit</code></strong></li><li><strong><code>redmine</code></strong></li></ul><p>Note on frontend: when I joined this project, frontend (including JS) was almost completed, I&rsquo;ve done only refactoring of CSS (SCSS+Compass) and JS (CS).</p><a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" href=https://www.higginsmd420.com/ target=_blank>Visit</a></div><div class="mdl-cell mdl-cell--12-col"><a id=pelesend></a><h3>Pelesend corporate site</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/pelesend_home.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/pelesend_home.png></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>Almost completely rewritten backend (Ruby on Rails based) ugly source code,
added completely missed integration/unit specs, added Mercury Editor for admins,
no frontend work applied (client is waiting for new design), removed or taken from gems 90% of code (JS mostly).</p><p>Results of refactoring:</p><pre tabindex=0><code>3,626,024 bytes -&gt; 322,949 bytes
536 files changed
5562 insertions(+)
98880 deletions(-)
</code></pre><p>Less code - less trouble :)</p><a class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" href=http://www.pelesend.com/ target=_blank>Visit</a></div><div class="mdl-cell mdl-cell--12-col"><a id=abc-logistik></a><h3>ABC Logistik</h3></div><div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-phone mdl-cell--4-col-tablet"><p><a href=/img/portfolio/abc-logistik_home.png target=_blank><img class="ik-portfolio-thumb-img mdl-shadow--6dp" src=/img/portfolio/thumbs/abc-logistik_home.png></a></p></div><div class="mdl-cell mdl-cell--12-col"><p>Regular complexity site for Russian logistic company, made solely by myself from the ground.
Some features (menu items) client decided to implement in the future.</p><p>Tools used:</p><ul><li>Ruby on Rails 3.2</li><li>MySQL (not my decision)</li><li>simple_form</li><li>strong_parameters (while using Ruby on Rails 3.2)</li><li>rubytree</li><li>active_admin</li><li>compass-rails</li><li>bootstrap-sass</li><li>rspec</li><li>capybara</li><li>factory_girl_rails</li><li>livereload</li><li>capistrano</li><li>passenger</li></ul></div></div><footer class=mdl-mini-footer><div class=mdl-mini-footer__left-section><div class=mdl-logo>Ivan Kulagin</div><ul class=mdl-mini-footer__link-list><li><a href=/>Home</a></li><li><a href=/works>Work</a></li><li><a href="https://github.com/qd3v?tab=stars" target=_blank>GitHub</a></li></ul></div></footer><div class="ik-grid-content mdl-grid"><div class="mdl-cell mdl-cell--12-col"><p class="mdl-typography--caption mdl-typography--text-center">This website was created using <a href=http://gohugo.io/ target=_blank>Hugo 0.96.0</a>, and
<a href=http://www.getmdl.io/ target=_blank>Google Material Design Lite</a></p></div></div><script type=text/javascript>(function(e,o,i,a,t,n,s){e[t]=e[t]||function(){(e[t].a=e[t].a||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),ym(62723488,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img src=https://mc.yandex.ru/watch/62723488 style=position:absolute;left:-9999px alt></div></noscript></main></div></body></html>